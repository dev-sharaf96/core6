    <div class="row" >
      <div class="col-xs-12">
        <h4 class="page-header">{{ 'najm.najmResponses' | translate }}</h4>
      </div>
    </div>
  <div class="row">
      <div class="panel panel-default">
        <div class="panel-heading" translate>common.filter_by</div>
        <!-- /.panel-heading -->
        <div class="panel-body">
          <div class="row">
            <div class="col-sm-3">
              <div class="form-group">
                <label for="PolicyHolderNin">{{ 'najm.policyHolderNin' | translate }}</label>
                <input
                  type="text"
                  [(ngModel)]="najmResponseFilter.PolicyHolderNin"
                  class="form-control"
                  id="PolicyHolderNin"
                />
              </div>
            </div>
            <div class="col-xs-12 col-md-2">
              <button (click)="filterClick(najmResponsesTable)"
                class="btn btn-primary"
                style="margin-top: 20px;"
                translate>
                common.search
              </button>
            </div>

          </div>

          </div>
          <br />
        </div>
        <!-- /.panel-body -->
      </div>
      <!-- /.panel -->

  <!-- /.row -->
  <div class="row" [ngClass]="{'hidden': firstTime}" >
      <div class="col-lg-12">
        <div class="panel panel-default">
          <div class="panel-heading">
            <div class="text-left clearfix">{{'common.results_count' | translate}} : {{najmResponsesCount}}
            </div>
          </div>
          <!-- /.panel-heading -->
          <div class="panel-body">
            <p-table
              #najmResponsesTable
              [value]="najmResponses"
              [lazy]="true"
              (onLazyLoad)="najmResponsesLazyLoad($event)"
              [lazyLoadOnInit]="false"
              [totalRecords]="najmResponsesCount"
              [resetPageOnSort]="true"
              [rowsPerPageOptions]="[5, 10, 20]"
              [loading]="loading"
              [paginator]="true"
              [rows]="10"
              [responsive]="true"
              scrollHeight="200px"
              [autoLayout]="true"
              [resizableColumns]="true">
              <ng-template pTemplate="caption" class="panel-heading">
                <div style="text-align: right">
                  <!-- <input class="form-control input-sm" type="text" pInputText placeholder="{{'common.search' | translate}}" (input)="driversTable.filterGlobal($event.target.value, 'contains')"> -->
                </div>
              </ng-template>
              <ng-template pTemplate="header">
                <tr>
                  <th [pSortableColumn]="'VehicleId'">
                      {{'najm.vehicleId' | translate}}
                      <p-sortIcon
                        [field]="'VehicleId'"
                        ariaLabel="Activate to sort"
                        ariaLabelDesc="Activate to sort in descending order"
                        ariaLabelAsc="Activate to sort in ascending order"
                      ></p-sortIcon>
                  </th>
                  <th [pSortableColumn]="'NCDReference'">
                      {{'najm.NCDReference' | translate}}
                    <p-sortIcon
                      [field]="'NCDReference'"
                      ariaLabel="Activate to sort"
                      ariaLabelDesc="Activate to sort in descending order"
                      ariaLabelAsc="Activate to sort in ascending order"
                    ></p-sortIcon>
                  </th>
                  <th [pSortableColumn]="'NCDFreeYears'">
                      {{'najm.NCDFreeYears' | translate}}
                    <p-sortIcon
                      [field]="'NCDFreeYears'"
                      ariaLabel="Activate to sort"
                      ariaLabelDesc="Activate to sort in descending order"
                      ariaLabelAsc="Activate to sort in ascending order"
                    ></p-sortIcon>
                  </th>
                  <th [pSortableColumn]="'CreatedAt'">
                      {{'najm.createdAt' | translate}}
                    <p-sortIcon
                      [field]="'CreatedAt'"
                      ariaLabel="Activate to sort"
                      ariaLabelDesc="Activate to sort in descending order"
                      ariaLabelAsc="Activate to sort in ascending order"
                    ></p-sortIcon>
                  </th>

                <th [pSortableColumn]="'IsVehicleRegistered'">
                    {{'najm.isVehicleRegistered' | translate}}
                  <p-sortIcon
                    [field]="'IsVehicleRegistered'"
                    ariaLabel="Activate to sort"
                    ariaLabelDesc="Activate to sort in descending order"
                    ariaLabelAsc="Activate to sort in ascending order"
                  ></p-sortIcon>
                </th>
                <th >
                    {{'common.action'  | translate }}
                </th>
              </tr>
              </ng-template>
              <ng-template pTemplate="body" let-najmResponse>
                <tr>
                  <td style="word-wrap: break-word">
                    {{ najmResponse.vehicleId || emptyStringValue }}
                  </td>
                  <td style="word-wrap: break-word">
                    {{najmResponse.nCDReference || emptyStringValue }}
                  </td>
                  <td style="word-wrap: break-word">
                      {{najmResponse.nCDFreeYears || emptyStringValue }}
                  </td>
                  <td style="word-wrap: break-word">
                      {{najmResponse.createdAt || emptyStringValue }}
                  </td>
                  <td style="word-wrap: break-word" translate>
                      {{najmResponse.isVehicleRegistered ==1 ? 'common.yes'  : 'common.no'  || emptyStringValue }}
                  </td>

                  <td style="word-wrap: break-word;text-align: center">
                    <!-- <button type="button" routerLink="/admin/drivers/edit/{{driver.driverId}}" routerLinkActive="active" class="btn btn-secondary action-btn" translate>insuranceCompany.edit</button> -->
                    <!-- <button type="button" (click)="onEdit(driver)" class="btn btn-secondary action-btn" translate>insuranceCompany.edit</button> -->
                    <button type="button" (click)="EditNajmResponse(najmResponse.id)" class="btn btn-info action-btn" translate>common.edit</button>
                    <button type="button" (click)="deleteNajmResponse(najmResponse.id)" class="btn btn-danger action-btn" translate>common.delete</button>
                  </td>
                </tr>
              </ng-template>
              <ng-template pTemplate="emptymessage">
                <tr>
                  <td style="text-align: center">
                    {{ "common.noRecordsFound" | translate }}
                  </td>
                </tr>
              </ng-template>
            </p-table>
            <!-- /.table-responsive -->
          </div>
          <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
      </div>
      <!-- /.col-lg-12 -->
    </div>

    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" [ngStyle]="{'display': openPpUp ? 'block' : 'none', 'opacity': 1}">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" translate>policy.resendPolicy</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="closeEmailModal()">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <form #ResendPolicyTemplate="ngForm" (ngSubmit)="UpdateNajmResponse()" novalidate>
            <div class="modal-body">
              <div class="form-group row">
                <div class="col-sm-12">
                  <label for="recipient-name" class="col-sm-4 col-form-label" translate>najm.NCDReference</label>
                  <div class="col-sm-8">
                    <input type="text" class="form-control" id="NCDReference" name="NCDReference" #email="ngModel" [(ngModel)]="najmResponse.nCDReference">
                  </div>
                </div>
              </div>

              <div class="form-group row">
                <div class="col-sm-12">
                  <label for="recipient-name" class="col-sm-4 col-form-label" translate>najm.NCDFreeYears</label>
                  <div class="col-sm-8">
                    <input type="text" class="form-control" id="nCDFreeYears" name="nCDFreeYears" #email="ngModel" [(ngModel)]="najmResponse.nCDFreeYears">
                  </div>
                </div>
              </div>
              <!-- <div *ngIf="email.invalid" class="alert alert-danger">
                <div *ngIf="email?.errors.pattern">
                  {{'insuranceCompany.emailError' | translate}}
                </div>
              </div> -->
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="closeEmailModal()">Close</button>
              <button type="submit" class="btn btn-primary" [disabled]="!ResendPolicyTemplate.valid || clicked" translate>
                common.update
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
